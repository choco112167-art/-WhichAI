"""
IAI - AI 선택비서 

- 기능: 사용자 입력 → 작업 카테고리 분류(키워드 규칙) → 카테고리별 대표 AI 도구 추천
- 카테고리:
    meeting_summary        : 회의/기록
    document_writing       : 문서/글쓰기
    image_generation       : 이미지 생성
    video                  : 동영상 생성/편집
    coding_automation      : 코드/자동화
    ppt_design             : PPT 및 디자인
    research               : 리서치/검색
    audio_music            : 음악/BGM 생성
    tts_voice              : TTS / 보이스 클로닝
    marketing_copy         : 마케팅 카피/랜딩페이지
    social_content         : SNS/유튜브/쇼츠 콘텐츠
    productivity_automation: 일정/업무 자동화
"""

from typing import List, Dict


# 1. 카테고리별 추천 AI 도구 정보 정의 (각 분야에서 많이 쓰이는 대표 툴 위주 셀렉션)
ai_tools: Dict[str, List[Dict[str, str]]] = {
    # 회의/기록
    "meeting_summary": [
        {
            "name": "클로바노트",
            "desc": "한국어 회의 녹음을 자동으로 받아 적고 요약까지 만들어 주는 도구",
            "strength": "국내 회의 환경(한국어 음성)에 최적화되어 팀플/스터디 회의 정리에 적합"
        },
        {
            "name": "Notion AI",
            "desc": "노션에 적어 둔 회의록·메모를 요약하고 할 일 목록 형태로 정리해 주는 도구",
            "strength": "노션 워크스페이스와 자연스럽게 통합되어 이미 노션을 쓰는 팀에 특히 유용"
        },
        {
            "name": "Notta",
            "desc": "화상회의를 자동으로 녹음·전사하고 핵심 내용만 골라 보여주는 회의 어시스턴트",
            "strength": "Zoom·Google Meet 등 주요 회의 플랫폼을 지원해 온라인 회의가 많은 경우에 좋음"
        },
        {
            "name": "Fireflies.ai",
            "desc": "회의에 자동으로 참여해 녹음·전사하고 요약과 액션 포인트를 정리해 주는 도구",
            "strength": "팀 단위로 회의 기록을 한 곳에 모으고 검색할 수 있어 협업에 강점"
        }
    ],

    # 글쓰기 및 전반적인 작업
    "document_writing": [
        {
            "name": "ChatGPT",
            "desc": "리포트/에세이 초안 작성부터 문장 다듬기까지 도와주는 범용 LLM",
            "strength": "아이디어 브레인스토밍, 구조 잡기, 첫 초안 만들기에 특히 강함"
        },
        {
            "name": "Claude",
            "desc": "긴 문서 읽기·요약·재구성에 특화된 대화형 LLM",
            "strength": "장문 텍스트를 자연스럽게 요약하고 개요 정리하는 데 유리"
        },
        {
            "name": "Gemini",
            "desc": "구글 계열 LLM으로, 검색·문서·슬라이드 등 구글 서비스와 함께 쓰기 좋은 도구",
            "strength": "Gmail/Docs/Slides와 연동해 문서 작업을 한 번에 처리하기 좋음"
        },
        {
            "name": "MS Copilot",
            "desc": "Word·PowerPoint·Excel 등 오피스 작업을 도와주는 AI 보조 도구",
            "strength": "기존 Office 문서를 그대로 활용하면서 요약·작성·정리를 맡길 수 있음"
        }
    ],

    # 이미지 생성
    "image_generation": [
        {
            "name": "FLUX",
            "desc": "디테일이 살아 있는 고품질 이미지를 생성하는 모델 계열 도구",
            "strength": "일러스트·컨셉 아트처럼 퀄리티가 중요한 작업에 적합"
        },
        {
            "name": "Ideogram",
            "desc": "텍스트가 포함된 포스터·배너 이미지를 잘 만들어 주는 생성형 이미지 도구",
            "strength": "한글/영문 텍스트가 들어간 썸네일·포스터 제작에 강점"
        },
        {
            "name": "ImageFX",
            "desc": "구글 계열에서 제공하는 이미지 생성 도구",
            "strength": "간단한 프롬프트만으로 빠르게 여러 시안을 뽑아보기 좋음"
        },
        {
            "name": "Midjourney",
            "desc": "디스코드 기반 고품질 이미지 생성 모델",
            "strength": "예술적 스타일 이미지와 감성 있는 썸네일 제작에 많이 쓰임"
        }
    ],

    # 동영상 생성·편집
    "video": [
        {
            "name": "CapCut",
            "desc": "템플릿 기반으로 쇼츠·틱톡 스타일 영상을 빠르게 만들 수 있는 편집 도구",
            "strength": "모바일/PC 모두 지원하며 자막·이펙트·템플릿이 풍부함"
        },
        {
            "name": "Vrew",
            "desc": "음성을 자동으로 받아 적고 자막을 만들어 주는 영상 편집 도구",
            "strength": "한국어 자막 작업과 간단한 컷 편집에 특히 편리"
        },
        {
            "name": "Veed",
            "desc": "브라우저에서 바로 쓸 수 있는 온라인 영상 편집 도구",
            "strength": "설치 없이 웹에서 자막·효과·템플릿을 활용해 영상 제작 가능"
        },
        {
            "name": "Runway",
            "desc": "텍스트→영상, 배경 제거 등 다양한 AI 기능을 제공하는 영상 도구",
            "strength": "실사 느낌의 짧은 클립이나 실험적인 AI 영상을 만들 때 유용"
        }
    ],

    # 코드/자동화
    "coding_automation": [
        {
            "name": "Cursor",
            "desc": "에디터 안에서 코드 이해·작성·리팩터링을 도와주는 AI 통합 코드 에디터",
            "strength": "프로젝트 전체 맥락을 보면서 코드를 제안해 주는 데 강점"
        },
        {
            "name": "Windsurf",
            "desc": "대화형으로 코드베이스를 이해하고 수정할 수 있는 AI 개발 환경",
            "strength": "레거시 코드 분석이나 리팩터링 작업에 도움됨"
        },
        {
            "name": "GitHub Copilot",
            "desc": "IDE 안에서 자동 완성·코드 스니펫을 제안하는 AI 코드 보조 도구",
            "strength": "자주 쓰는 패턴이나 반복 코드를 빠르게 작성할 수 있음"
        },
        {
            "name": "Replit AI",
            "desc": "브라우저 기반 IDE에서 바로 코드 작성을 도와주는 AI",
            "strength": "설치 없이 웹에서 실습·토이 프로젝트를 만들 때 편리"
        }
    ],

    # PPT 및 디자인 작업
    "ppt_design": [
        {
            "name": "Canva",
            "desc": "프레젠테이션·썸네일·SNS 이미지를 템플릿 기반으로 만드는 디자인 도구",
            "strength": "디자인을 잘 못해도 템플릿으로 빠르게 결과물을 뽑을 수 있음"
        },
        {
            "name": "Gamma",
            "desc": "텍스트 몇 줄만 넣으면 슬라이드 전체를 자동으로 만들어 주는 프레젠테이션 도구",
            "strength": "기획서 초안을 빠르게 만들고 이후에 수정·보완하는 식으로 쓰기 좋음"
        },
        {
            "name": "Tome",
            "desc": "스토리텔링 중심의 프레젠테이션을 생성해 주는 AI 도구",
            "strength": "이미지·텍스트를 적절히 섞어 발표용 슬라이드를 자동 구성"
        },
        {
            "name": "Figma",
            "desc": "UI/UX 디자인과 프로토타입 제작에 쓰는 협업 디자인 툴",
            "strength": "앱/웹 화면 설계와 컴포넌트 기반 디자인에 강점"
        }
    ],

    # 리서치 및 검색
    "research": [
        {
            "name": "Perplexity",
            "desc": "웹 검색과 요약을 한 번에 해 주는 AI 리서치 어시스턴트",
            "strength": "출처 링크와 함께 답변을 제공해 레포트·논문 자료 조사에 적합"
        },
        {
            "name": "NotebookLM",
            "desc": "자신이 올린 문서들을 기반으로 질의응답과 요약을 해 주는 구글의 연구 도구",
            "strength": "자료를 업로드해 두고 그 안에서만 집중적으로 질문하고 정리할 수 있음"
        },
        {
            "name": "Elicit",
            "desc": "논문 검색과 요약에 특화된 AI 리서치 도구",
            "strength": "연구 질문을 던지면 관련 논문과 핵심 내용을 표 형식으로 정리해 줌"
        },
        {
            "name": "SciSpace",
            "desc": "논문 내용을 쉽게 설명해 주고, 섹션별로 요약해 주는 도구",
            "strength": "수식·그래프가 많은 논문을 읽을 때 이해를 돕기 좋음"
        }
    ],

    # 음악 / BGM 생성
    "audio_music": [
        {
            "name": "Suno",
            "desc": "텍스트 프롬프트만으로 멜로디와 보컬까지 들어간 완성형 노래를 만들어 주는 AI 음악 생성 도구",
            "strength": "음악 지식이 없어도 장르·분위기·가사만 적으면 곡을 빠르게 뽑을 수 있어 커버송·밈송 만들 때 좋음"
        },
        {
            "name": "Udio",
            "desc": "팝·EDM 등 대중적인 스타일의 곡을 잘 만들어 주는 AI 음악 툴",
            "strength": "짧은 프롬프트로도 자연스러운 곡 구조가 나와서 쇼츠·배경음악용으로 쓰기 좋음"
        },
        {
            "name": "SOUNDRAW",
            "desc": "영상·게임·브랜딩용으로 쓸 수 있는 로열티 프리 BGM을 생성해 주는 도구",
            "strength": "길이·전개를 조절하면서 곡 구조를 세밀하게 편집할 수 있어 영상용 배경음악 제작에 적합"
        },
        {
            "name": "AIVA",
            "desc": "클래식/영화 음악 스타일의 연주곡을 만들어 주는 AI 작곡 도구",
            "strength": "발표·게임·브금용으로 잔잔한 배경음악이 필요할 때 유용"
        }
    ],

    # TTS / 보이스 클로닝 / 더빙
    "tts_voice": [
        {
            "name": "ElevenLabs",
            "desc": "자연스러운 음성을 여러 언어로 생성하고 특정 화자의 목소리를 클로닝할 수 있는 TTS 플랫폼",
            "strength": "감정 표현이 살아 있는 나레이션·더빙용 음성을 만들기에 적합"
        },
        {
            "name": "LOVO",
            "desc": "한국어를 포함한 다양한 언어로 자연스러운 음성을 제공하는 TTS 서비스",
            "strength": "광고·교육 영상·오디오북 등 상업용 콘텐츠에 쓸 수 있는 한국어 음성이 강점"
        },
        {
            "name": "Murf",
            "desc": "프레젠테이션·영상 더빙용으로 많이 쓰이는 TTS 도구",
            "strength": "슬라이드/스크립트를 올려두고 바로 음성 나레이션을 입히기 편리"
        },
        {
            "name": "Play.ht",
            "desc": "팟캐스트급 퀄리티의 음성을 제공하는 TTS·보이스 클로닝 플랫폼",
            "strength": "장시간 나레이션이 필요한 콘텐츠 제작에 적합"
        }
    ],

    # 마케팅 카피 / 랜딩페이지 / 이메일
    "marketing_copy": [
        {
            "name": "Jasper",
            "desc": "광고 카피, 블로그 글, 랜딩페이지 텍스트를 만들어 주는 마케팅 특화 AI",
            "strength": "톤·브랜드 가이드를 지정해 일관된 마케팅 문구를 대량으로 뽑기에 좋음"
        },
        {
            "name": "Copy.ai",
            "desc": "SNS 글, 광고 문구, 이메일 캠페인 문구를 생성하는 도구",
            "strength": "다양한 템플릿이 있어 마케터가 빠르게 여러 버전의 카피를 테스트하기 편리"
        },
        {
            "name": "Anyword",
            "desc": "광고 성과 예측까지 해 주는 카피라이팅 도구",
            "strength": "문구별 클릭·전환률 예측을 제공해 A/B 테스트 전에 방향을 잡을 수 있음"
        }
    ],

    # SNS / 유튜브 / 쇼츠 콘텐츠
    "social_content": [
        {
            "name": "OpusClip",
            "desc": "긴 영상을 자동으로 잘라 쇼츠 형식의 클립을 뽑아 주는 도구",
            "strength": "유튜브 풀영상을 업로드해 하이라이트 쇼츠를 한 번에 만들기 좋음"
        },
        {
            "name": "VideoIdeas.ai",
            "desc": "유튜브 영상 주제와 스크립트 아이디어를 만들어 주는 도구",
            "strength": "채널 방향에 맞는 아이디어를 계속 뽑아줘서 초보 크리에이터에게 도움됨"
        },
        {
            "name": "VUBO",
            "desc": "쇼츠·틱톡 스타일 영상과 썸네일을 템플릿 기반으로 생성해 주는 플랫폼",
            "strength": "여러 AI 모델을 묶어서 영상·자막·보이스오버를 한 번에 구성 가능"
        }
    ],

    # 생산성 / 워크플로우 자동화
    "productivity_automation": [
        {
            "name": "Zapier",
            "desc": "여러 웹 서비스를 서로 연결해 자동으로 작업을 처리하는 워크플로우 툴",
            "strength": "이메일·스프레드시트·채팅앱 등과 연동해 반복 업무를 줄일 수 있음"
        },
        {
            "name": "Make",
            "desc": "시각적인 플로우 차트로 자동화 시나리오를 구성하는 노코드 플랫폼",
            "strength": "복잡한 분기 로직이 필요한 자동화도 드래그앤드롭으로 설계 가능"
        },
        {
            "name": "Bardeen",
            "desc": "브라우저에서 반복되는 작업을 자동으로 수행해 주는 데스크톱 자동화 도구",
            "strength": "리서치·데이터 수집처럼 마우스 클릭이 많은 일을 줄이는 데 적합"
        },
        {
            "name": "Notis",
            "desc": "메신저에서 자연어로 지시하면 툴 스택 전반의 잡일을 대신 처리해 주는 AI 에이전트",
            "strength": "CRM 업데이트, 일정 등록, 문서 정리 등 여러 도구를 하나의 채팅 인터페이스에서 제어 가능"
        }
    ]
}


# 2. 규칙 기반 작업 분류기 (키워드 → 카테고리)
KEYWORDS_TO_CATEGORY = {
    # 회의/기록
    "회의": "meeting_summary",
    "미팅": "meeting_summary",
    "회의록": "meeting_summary",
    "녹음": "meeting_summary",
    "기록": "meeting_summary",
    "노트": "meeting_summary",

    # 문서/글쓰기
    "리포트": "document_writing",
    "보고서": "document_writing",
    "에세이": "document_writing",
    "글쓰기": "document_writing",
    "문장": "document_writing",
    "자기소개서": "document_writing",
    "문서": "document_writing",

    # 이미지
    "이미지": "image_generation",
    "그림": "image_generation",
    "포스터": "image_generation",
    "썸네일": "image_generation",
    "사진": "image_generation",

    # 동영상 / SNS (겹치지만 우선 video로)
    "영상": "video",
    "동영상": "video",
    "쇼츠": "video",
    "틱톡": "video",
    "유튜브": "video",

    # 코드/자동화
    "코드": "coding_automation",
    "코딩": "coding_automation",
    "프로그래밍": "coding_automation",
    "스크립트": "coding_automation",
    "봇": "coding_automation",

    # PPT/디자인
    "PPT": "ppt_design",
    "ppt": "ppt_design",
    "발표자료": "ppt_design",
    "슬라이드": "ppt_design",
    "디자인": "ppt_design",
    "배너": "ppt_design",

    # 리서치/검색
    "검색": "research",
    "리서치": "research",
    "조사": "research",
    "자료조사": "research",
    "논문": "research",

    # 음악 / 오디오
    "음악": "audio_music",
    "노래": "audio_music",
    "bgm": "audio_music",
    "브금": "audio_music",

    # 음성 / TTS / 더빙
    "tts": "tts_voice",
    "보이스": "tts_voice",
    "목소리": "tts_voice",
    "더빙": "tts_voice",
    "내레이션": "tts_voice",

    # 마케팅 / 광고
    "광고": "marketing_copy",
    "카피": "marketing_copy",
    "랜딩페이지": "marketing_copy",
    "세일즈": "marketing_copy",
    "마케팅": "marketing_copy",

    # SNS / 콘텐츠 기획
    "콘텐츠": "social_content",
    "컨텐츠": "social_content",
    "인스타": "social_content",
    "피드": "social_content",

    # 일정 / 업무 자동화
    "일정": "productivity_automation",
    "캘린더": "productivity_automation",
    "자동화": "productivity_automation",
    "에이전트": "productivity_automation",
    "잡일": "productivity_automation"
}


def classify_task(user_text: str) -> str:
    """사용자 입력을 보고 작업 카테고리를 간단히 분류하는 함수.
    일치하는 키워드가 없으면 기본값으로 document_writing을 사용.
    """
    text = user_text.strip()
    for keyword, category in KEYWORDS_TO_CATEGORY.items():
        if keyword in text:
            return category
    return "document_writing"  # 기본값


# 3. 카테고리별 도구 추천 함수
def recommend_tools(category: str) -> List[Dict[str, str]]:
    """카테고리에 해당하는 AI 도구 리스트 반환."""
    return ai_tools.get(category, [])


# 4. 전체 흐름 실행 함수
def run_iai_once():
    print("===== IAI =====")
    user_text = input("지금 뭐 하려고 하는지 편하게 한 줄로 써주세요 :)\n> ")

    # 1) 작업 카테고리 분류
    category = classify_task(user_text)

    # 2) 도구 추천
    tools = recommend_tools(category)

    if not tools:
        print("\n[추천 결과]\n- 아직 이 상황에 맞춰 둔 AI 도구가 없습니다. 키워드를 조금 바꿔서 다시 시도해 주세요.")
        return

    print("\n[추천]")
    for i, tool in enumerate(tools[:4], start=1):  # 최대 4개만 보여주기
        print(f"{i}. {tool['name']}")
        print(f"   - 설명: {tool['desc']}")
        print(f"   - 강점: {tool['strength']}\n")


if __name__ == "__main__":
    run_iai_once()
